<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Test Slider â€” Docebo iFrame</title>
  <style>
    :root{
      --height: 380px;        /* Adjust to fit your Docebo iFrame height */
      --accent: #1f6feb;      /* Brand accent color */
      --duration: 5000ms;     /* Autoplay interval */
      --radius: 12px;         /* Border radius */
      --shadow: 0 8px 28px rgba(0,0,0,.25);
    }

    * { box-sizing: border-box; }
    body {
      margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      background: #0e1116; color: #e6edf3; display: grid; place-items: center; min-height: 100dvh;
    }
    .wrap { width: min(1100px, 100%); padding: 16px; }

    .slider {
      position: relative; width: 100%; height: var(--height); overflow: hidden;
      border-radius: var(--radius); background: #111; box-shadow: var(--shadow);
    }
    .track { display: flex; height: 100%; transition: transform 600ms ease; will-change: transform; }
    .slide { position: relative; min-width: 100%; height: 100%; display: block; color: #fff; text-decoration: none; }
    .slide img { width: 100%; height: 100%; object-fit: cover; display: block; }

    .caption { position: absolute; inset: auto 0 0 0; padding: 16px 18px;
      background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,.65) 65%, rgba(0,0,0,.85) 100%);
    }
    .caption h3 { margin: 0 0 6px; font-size: clamp(16px, 2.6vw, 22px); font-weight: 700; line-height: 1.2; }
    .caption p { margin: 0; font-size: clamp(13px, 2vw, 16px); opacity: .95; }

    .arrow { position: absolute; top: 50%; transform: translateY(-50%); z-index: 2;
      border: none; background: rgba(0,0,0,.35); color: #fff; width: 38px; height: 38px; border-radius: 50%; cursor: pointer;
      display: grid; place-items: center; transition: background 200ms ease, transform 200ms ease; }
    .arrow:hover, .arrow:focus-visible { background: rgba(0,0,0,.55); transform: translateY(-50%) scale(1.05); outline: 2px solid #fff3; }
    .prev { left: 10px; } .next { right: 10px; }

    .dots { position: absolute; left: 0; right: 0; bottom: 10px; display: flex; gap: 8px; justify-content: center; z-index: 2; }
    .dot { width: 10px; height: 10px; border-radius: 50%; background: #fff9; border: 0; padding: 0; cursor: pointer;
      transition: transform 150ms ease, background 150ms ease; }
    .dot[aria-selected="true"] { background: var(--accent); transform: scale(1.2); }
    .dot:focus-visible { outline: 2px solid #fff; outline-offset: 2px; }

    @media (prefers-reduced-motion: reduce) {
      .track { transition: none !important; }
    }

    /* Small header text for context when opening the file directly */
    .note { margin: 8px 0 16px; color: #a9b1ba; font-size: 14px; text-align: center; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="note">This is a self-contained test slider intended to be embedded in Docebo via an iFrame.</div>

    <div class="slider" role="region" aria-label="Featured items carousel">
      <div class="track" aria-live="polite">
        <a class="slide" href="https://www.microsoft.com/learn" target="_blank" rel="noopener">
          <img src="https://picsum.photos/id/1015/1280/600" alt="Mountain lake at sunrise" />
          <div class="caption"><h3>Leadership 101</h3><p>Kickstart your path to people leadership.</p></div>
        </a>
        <a class="slide" href="https://example.com/culture" target="_blank" rel="noopener">
          <img src="https://picsum.photos/id/1025/1280/600" alt="Puppy close-up" />
          <div class="caption"><h3>Inclusive Culture</h3><p>Skills to foster belonging across teams.</p></div>
        </a>
        <a class="slide" href="https://www.linkedin.com/learning/" target="_blank" rel="noopener">
          <img src="https://picsum.photos/id/1035/1280/600" alt="Forest with sunlight" />
          <div class="caption"><h3>Data Storytelling</h3><p>Turn insights into action.</p></div>
        </a>
        <a class="slide" href="https://contoso.com/pathways" target="_blank" rel="noopener">
          <img src="https://picsum.photos/id/1005/1280/600" alt="Ocean waves" />
          <div class="caption"><h3>Project Essentials</h3><p>Plan, execute, and deliver with confidence.</p></div>
        </a>
      </div>

      <button class="arrow prev" aria-label="Previous slide" title="Previous">&#10094;</button>
      <button class="arrow next" aria-label="Next slide" title="Next">&#10095;</button>
      <div class="dots" role="tablist" aria-label="Slide selector"></div>
    </div>
  </div>

  <script>
  (function(){
    const AUTOPLAY_MS = 5000; // match --duration
    const LOOP = true;

    const root = document.querySelector('.slider');
    const track = root.querySelector('.track');
    const slides = Array.from(root.querySelectorAll('.slide'));
    const prevBtn = root.querySelector('.prev');
    const nextBtn = root.querySelector('.next');
    const dotsWrap = root.querySelector('.dots');

    let index = 0, timer = null, isHovered = false, isUserInteracting = false, userCoolOff = null;

    // Build dots
    const dots = slides.map((_, i) => {
      const btn = document.createElement('button');
      btn.className = 'dot';
      btn.setAttribute('role', 'tab');
      btn.setAttribute('aria-label', `Go to slide ${i+1}`);
      btn.addEventListener('click', () => goTo(i, true));
      dotsWrap.appendChild(btn);
      return btn;
    });

    function updateUI(){
      const offset = -index * 100;
      track.style.transform = `translateX(${offset}%)`;
      dots.forEach((d,i)=>d.setAttribute('aria-selected', i===index ? 'true':'false'));
    }

    function goTo(newIndex, user=false){
      if (user) isUserInteracting = true;
      const last = slides.length - 1;
      index = LOOP ? (newIndex + slides.length) % slides.length : Math.max(0, Math.min(newIndex, last));
      updateUI();
      restartAutoplay();
      if (user){
        clearTimeout(userCoolOff);
        userCoolOff = setTimeout(()=>{ isUserInteracting = false; }, AUTOPLAY_MS);
      }
    }

    function next(){ goTo(index+1, true); }
    function prev(){ goTo(index-1, true); }

    function startAutoplay(){
      if (AUTOPLAY_MS <= 0) return;
      stopAutoplay();
      timer = setInterval(()=>{
        if (document.hidden) return;
        if (isHovered) return;
        if (isUserInteracting) return;
        goTo(index+1, false);
      }, AUTOPLAY_MS);
    }
    function stopAutoplay(){ if (timer) clearInterval(timer); timer = null; }
    function restartAutoplay(){ stopAutoplay(); startAutoplay(); }

    // Keyboard
    root.addEventListener('keydown', (e)=>{
      if (e.key === 'ArrowRight'){ e.preventDefault(); next(); }
      if (e.key === 'ArrowLeft'){ e.preventDefault(); prev(); }
    });

    // Hover pause
    root.addEventListener('mouseenter', ()=>{ isHovered = true; });
    root.addEventListener('mouseleave', ()=>{ isHovered = false; });

    // Touch swipe
    let touchX=null, touchY=null, swiping=false;
    root.addEventListener('touchstart', (e)=>{
      if (!e.touches || !e.touches[0]) return;
      touchX = e.touches[0].clientX;
      touchY = e.touches[0].clientY;
      swiping = true;
    }, {passive:true});
    root.addEventListener('touchmove', (e)=>{
      if (!swiping || !e.touches || !e.touches[0]) return;
      const dx = e.touches[0].clientX - touchX;
      const dy = e.touches[0].clientY - touchY;
      if (Math.abs(dx) > Math.abs(dy) && Math.abs(dx) > 24){
        if (dx < 0) next(); else prev();
        swiping = false;
      }
    }, {passive:true});
    root.addEventListener('touchend', ()=>{ swiping = false; });

    // Buttons
    prevBtn.addEventListener('click', prev);
    nextBtn.addEventListener('click, keydown', (e)=>{ if (e.type==='click' || e.key==='Enter' || e.key===' ') next(); });
    nextBtn.addEventListener('click', next);

    // Init
    updateUI();
    startAutoplay();
    let rAF=null; window.addEventListener('resize', ()=>{ if (rAF) cancelAnimationFrame(rAF); rAF=requestAnimationFrame(updateUI); });
  })();
  </script>
</body>
</html>